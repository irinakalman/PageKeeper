<h1>Customers</h1>

<!--for client-side search for customers-->
<section class="add-search-sort">
  <button
  routerLink="/new-customer"
  mat-raised-button
  class="primary-button"
  color="primary"
>
  Add New Customer
</button>
<div class="search-sort-controls">
  <mat-form-field appearance="outline">
    <mat-label>Search Customers</mat-label>
    <input
      matInput
      [(ngModel)]="searchTerm"
      (input)="filterCustomers()"
    />
  </mat-form-field>

  <!-- //For asc/desc sorting -->
  <mat-form-field appearance="outline">
    <mat-label>Sort</mat-label>
    <mat-select [(ngModel)]="sortOrder" (selectionChange)="filterCustomers()">
      <mat-option value="asc">A-Z</mat-option>
      <mat-option value="desc">Z-A</mat-option>
    </mat-select>
  </mat-form-field>
</div>

</section>

<section class="example-container mat-elevation-z8" tabindex="0">


  <table mat-table [dataSource]="filteredCustomers">
    <!-- Name Column -->
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef>Name</th>
      <td mat-cell *matCellDef="let customer">{{ customer.name }}</td>
    </ng-container>

    <!-- Surname Column -->
    <ng-container matColumnDef="surname">
      <th mat-header-cell *matHeaderCellDef>Surname</th>
      <td mat-cell *matCellDef="let customer">{{ customer.surname }}</td>
    </ng-container>

    <!-- Email Column -->
    <ng-container matColumnDef="email">
      <th mat-header-cell *matHeaderCellDef>Email</th>
      <td mat-cell *matCellDef="let customer">{{ customer.email }}</td>
    </ng-container>

    <!-- Phone Number Column -->
    <ng-container matColumnDef="phoneNumber">
      <th mat-header-cell *matHeaderCellDef>Phone Number</th>
      <td mat-cell *matCellDef="let customer">{{ customer.phoneNumber }}</td>
    </ng-container>

    <!-- Actions Column -->
    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef>Actions</th>
      <td mat-cell *matCellDef="let customer">
        <button
          mat-raised-button
          color="primary"
          class="primary-button"
          (click)="viewCustomer(customer)"
        >
          <img src="assets/images/view.png" alt="View icon" />
        </button>
        <button
          mat-raised-button
          color="primary"
          class="secondary-button edit"
          (click)="editCustomer(customer)"
        >
          <img src="assets/images/editing.png" alt="Edit icon" />
        </button>
        <button
          mat-raised-button
          color="warn"
          class="warn-button delete"
          (click)="deleteCustomer(customer)"
        >
          <img src="assets/images/delete.png" alt="Delete icon" />
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>
</section>
